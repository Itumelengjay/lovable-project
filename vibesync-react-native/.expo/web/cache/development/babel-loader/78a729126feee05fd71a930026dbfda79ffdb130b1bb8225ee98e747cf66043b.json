{"ast":null,"code":"var _jsxFileName = \"/project/sandbox/user-workspace/vibesync-react-native/src/screens/HomeScreen.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport { useNavigation } from '@react-navigation/native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { db, auth, collection, addDoc, query, orderBy, onSnapshot } from '../../firebase';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport function HomeScreen() {\n  const navigation = useNavigation();\n  const [feed, setFeed] = useState([]);\n  const [vibeText, setVibeText] = useState('');\n  useEffect(() => {\n    const postsRef = collection(db, 'vibes');\n    const q = query(postsRef, orderBy('timestamp', 'desc'));\n    const unsubscribe = onSnapshot(q, snapshot => {\n      const data = snapshot.docs.map(doc => Object.assign({\n        id: doc.id\n      }, doc.data()));\n      setFeed(data);\n    });\n    return unsubscribe;\n  }, []);\n  const handleSubmitVibe = async () => {\n    if (!vibeText.trim()) return;\n    try {\n      const postsRef = collection(db, 'vibes');\n      await addDoc(postsRef, {\n        userId: auth.currentUser?.uid,\n        text: vibeText,\n        type: 'text',\n        timestamp: new Date()\n      });\n      setVibeText('');\n    } catch (error) {\n      console.error('Error posting vibe:', error);\n    }\n  };\n  return _jsxDEV(View, {\n    className: \"flex-1 bg-white\",\n    children: [_jsxDEV(View, {\n      className: \"p-4 border-b border-gray-200\",\n      children: _jsxDEV(Text, {\n        className: \"text-2xl font-bold\",\n        children: \"Feed\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), _jsxDEV(View, {\n      className: \"p-4 border-b border-gray-200\",\n      children: [_jsxDEV(TextInput, {\n        className: \"bg-gray-100 p-3 rounded-lg mb-2\",\n        placeholder: \"Share your vibe...\",\n        value: vibeText,\n        onChangeText: setVibeText,\n        multiline: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), _jsxDEV(TouchableOpacity, {\n        className: \"bg-black p-3 rounded-lg\",\n        onPress: handleSubmitVibe,\n        children: _jsxDEV(Text, {\n          className: \"text-white text-center font-semibold\",\n          children: \"Post Vibe\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, this), _jsxDEV(ScrollView, {\n      className: \"flex-1\",\n      children: feed.map(post => _jsxDEV(TouchableOpacity, {\n        className: \"p-4 border-b border-gray-100\",\n        onPress: () => navigation.navigate('PostDetail', {\n          post\n        }),\n        children: [_jsxDEV(View, {\n          className: \"flex-row items-center mb-2\",\n          children: [_jsxDEV(View, {\n            className: \"w-10 h-10 bg-gray-200 rounded-full mr-3\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            className: \"font-semibold\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 15\n          }, this), _jsxDEV(Text, {\n            className: \"text-gray-500 ml-2\",\n            children: new Date(post.timestamp).toLocaleDateString()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 13\n        }, this), _jsxDEV(Text, {\n          className: \"text-gray-800 mb-3\",\n          children: post.text\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 13\n        }, this), _jsxDEV(View, {\n          className: \"flex-row items-center\",\n          children: [_jsxDEV(View, {\n            className: \"flex-row items-center mr-4\",\n            children: [_jsxDEV(Ionicons, {\n              name: \"heart-outline\",\n              size: 20,\n              color: \"black\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 17\n            }, this), _jsxDEV(Text, {\n              className: \"ml-1\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 15\n          }, this), _jsxDEV(View, {\n            className: \"flex-row items-center\",\n            children: [_jsxDEV(Ionicons, {\n              name: \"chatbubble-outline\",\n              size: 20,\n              color: \"black\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 17\n            }, this), _jsxDEV(Text, {\n              className: \"ml-1\",\n              children: \"0\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 13\n        }, this)]\n      }, post.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n}","map":{"version":3,"names":["React","useEffect","useState","View","Text","ScrollView","TouchableOpacity","TextInput","useNavigation","Ionicons","db","auth","collection","addDoc","query","orderBy","onSnapshot","jsxDEV","_jsxDEV","HomeScreen","navigation","feed","setFeed","vibeText","setVibeText","postsRef","q","unsubscribe","snapshot","data","docs","map","doc","Object","assign","id","handleSubmitVibe","trim","userId","currentUser","uid","text","type","timestamp","Date","error","console","className","children","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","value","onChangeText","multiline","onPress","post","navigate","toLocaleDateString","name","size","color"],"sources":["/project/sandbox/user-workspace/vibesync-react-native/src/screens/HomeScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { View, Text, ScrollView, TouchableOpacity, TextInput } from 'react-native';\nimport { useNavigation } from '@react-navigation/native';\nimport { Ionicons } from '@expo/vector-icons';\nimport { db, auth, collection, addDoc, query, orderBy, onSnapshot } from '../../firebase';\n\ntype Post = {\n  id: string;\n  userId: string;\n  text: string;\n  timestamp: Date;\n  type: string;\n};\n\nexport function HomeScreen() {\n  const navigation = useNavigation();\n  const [feed, setFeed] = useState<Post[]>([]);\n  const [vibeText, setVibeText] = useState('');\n\n  useEffect(() => {\n    const postsRef = collection(db, 'vibes');\n    const q = query(postsRef, orderBy('timestamp', 'desc'));\n    \n    const unsubscribe = onSnapshot(q, (snapshot) => {\n      const data = snapshot.docs.map(doc => ({\n        id: doc.id,\n        ...doc.data()\n      })) as Post[];\n      setFeed(data);\n    });\n\n    return unsubscribe;\n  }, []);\n\n  const handleSubmitVibe = async () => {\n    if (!vibeText.trim()) return;\n\n    try {\n      const postsRef = collection(db, 'vibes');\n      await addDoc(postsRef, {\n        userId: auth.currentUser?.uid,\n        text: vibeText,\n        type: 'text',\n        timestamp: new Date()\n      });\n      setVibeText('');\n    } catch (error) {\n      console.error('Error posting vibe:', error);\n    }\n  };\n\n  return (\n    <View className=\"flex-1 bg-white\">\n      <View className=\"p-4 border-b border-gray-200\">\n        <Text className=\"text-2xl font-bold\">Feed</Text>\n      </View>\n      \n      <View className=\"p-4 border-b border-gray-200\">\n        <TextInput\n          className=\"bg-gray-100 p-3 rounded-lg mb-2\"\n          placeholder=\"Share your vibe...\"\n          value={vibeText}\n          onChangeText={setVibeText}\n          multiline\n        />\n        <TouchableOpacity\n          className=\"bg-black p-3 rounded-lg\"\n          onPress={handleSubmitVibe}\n        >\n          <Text className=\"text-white text-center font-semibold\">Post Vibe</Text>\n        </TouchableOpacity>\n      </View>\n      \n      <ScrollView className=\"flex-1\">\n        {feed.map(post => (\n          <TouchableOpacity \n            key={post.id}\n            className=\"p-4 border-b border-gray-100\"\n            onPress={() => navigation.navigate('PostDetail' as never, { post } as never)}\n          >\n            <View className=\"flex-row items-center mb-2\">\n              <View className=\"w-10 h-10 bg-gray-200 rounded-full mr-3\" />\n              <Text className=\"font-semibold\">User</Text>\n              <Text className=\"text-gray-500 ml-2\">\n                {new Date(post.timestamp).toLocaleDateString()}\n              </Text>\n            </View>\n            \n            <Text className=\"text-gray-800 mb-3\">{post.text}</Text>\n            \n            <View className=\"flex-row items-center\">\n              <View className=\"flex-row items-center mr-4\">\n                <Ionicons name=\"heart-outline\" size={20} color=\"black\" />\n                <Text className=\"ml-1\">0</Text>\n              </View>\n              <View className=\"flex-row items-center\">\n                <Ionicons name=\"chatbubble-outline\" size={20} color=\"black\" />\n                <Text className=\"ml-1\">0</Text>\n              </View>\n            </View>\n          </TouchableOpacity>\n        ))}\n      </ScrollView>\n    </View>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}